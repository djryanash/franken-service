option_settings:
  - namespace: aws:elasticbeanstalk:application:environment
    option_name: ENV
    value: production
  - namespace: aws:elasticbeanstalk:application:environment
    option_name: PORT
    value: 5000

commands:
  01_download_go:
    command: |
      curl -O -L "https://go.dev/dl/go1.24.0.linux-amd64.tar.gz"
      sudo tar -C /usr/local/ -xvzf go1.24.0.linux-amd64.tar.gz
      sudo ln -sf /usr/local/go/bin/go /usr/bin/go
      echo "export PATH=\$PATH:/usr/local/go/bin" | sudo tee -a /etc/profile.d/go.sh
      go version >> /var/log/eb-engine.log 2>&1
